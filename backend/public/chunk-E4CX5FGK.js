import{a as st,b as ct}from"./chunk-X2XAQUUD.js";import{a as lt,b as pt,c as oe,d as re}from"./chunk-Y2LZGV2O.js";import{$a as At,$b as te,Bc as ft,Ca as D,Da as kt,Ea as a,Eb as jt,Fa as s,Fb as et,Ga as d,Ha as $,Hb as Gt,I as wt,Ia as Q,Ib as it,J as bt,Ja as ut,K as Ft,Ka as S,La as y,Lb as L,M as Tt,Ma as p,Mb as Ht,Nb as zt,O,Ob as $t,P as C,Pa as Ot,Pb as z,Q as Et,Qa as U,Qb as nt,Rb as Qt,Sa as Rt,Sb as ot,T as g,Ta as Vt,Tb as Ut,U as f,Ua as W,Ub as Wt,V as R,Va as Z,Vb as Zt,W as V,Wa as P,Wb as Jt,Xa as h,Xb as Kt,Ya as T,Yb as Xt,Zb as Yt,_b as rt,ab as v,cb as B,da as mt,db as gt,ea as G,f as xt,hb as J,ib as K,jb as N,ka as Mt,lb as H,m as St,ma as l,mb as Dt,na as x,oa as Pt,ob as Bt,pb as X,qb as E,qc as k,ra as M,rb as b,sb as Y,ta as A,tb as Nt,tc as at,ua as Lt,ub as tt,vb as w,vc as ee,wa as u,wc as ie,xa as _,xc as ne,ya as r,yb as qt,zc as q}from"./chunk-7VGRZGUI.js";var dt=(()=>{let o=class o{constructor(){this.onAddProduct=new M}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=C({type:o,selectors:[["products-product-item"]],inputs:{product:"product"},outputs:{onAddProduct:"onAddProduct"},standalone:!0,features:[v],decls:11,vars:6,consts:[[1,"product-item"],["alt","product",3,"src","routerLink"],[1,"inner-container"],[1,"name"],[1,"price"],[1,"btn-add-cart",3,"click"],[1,"pi","pi-shopping-cart"]],template:function(i,c){i&1&&(a(0,"li",0),d(1,"img",1),a(2,"div",2)(3,"h4",3),h(4),s(),a(5,"h5",4),h(6),J(7,"currency"),s(),a(8,"button",5),y("click",function(){return c.onAddProduct.emit(c.product.id)}),d(9,"i",6),h(10," Add to cart "),s()()()),i&2&&(l(),U("routerLink","/products/details/",c.product.id,""),r("src",c.product.image,G),l(3),T(c.product.name),l(2),T(K(7,4,c.product.price)))},dependencies:[w,tt,L,it]});let e=o;return e})();var ae=(()=>{let o=class o{constructor(n){this.http=n}getCategories(){return this.http.get("http://localhost:3000/api/v1/categories")}getCategoryById(n){return this.http.get(`http://localhost:3000/api/v1/categories/${n}`)}addCategory(n){return this.http.post("http://localhost:3000/api/v1/categories",n)}editCategory(n){return this.http.put(`http://localhost:3000/api/v1/categories/${n.id}`,n)}deleteCategory(n){return this.http.delete(`http://localhost:3000/api/v1/categories/${n}`)}};o.\u0275fac=function(i){return new(i||o)(Tt(qt))},o.\u0275prov=bt({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})();function Ce(e,o){if(e&1){let t=S();a(0,"li")(1,"input",7),y("ngModelChange",function(i){let m=g(t).$implicit,I=p(2);return f(I.selectedCategories[m.name.toLowerCase()]=i)})("change",function(){g(t);let i=p(2);return f(i.onChangeCategory())}),s(),a(2,"label",8),h(3),s()()}if(e&2){let t=o.$implicit,n=p(2);l(),r("ngModel",n.selectedCategories[t.name.toLowerCase()])("name",t.name)("id",t.name),l(),Ot("for",t.name),l(),T(t.name)}}function he(e,o){if(e&1){let t=S();a(0,"products-product-item",9),y("onAddProduct",function(i){g(t);let c=p(2);return f(c.onAddProduct(i))}),s()}if(e&2){let t=o.$implicit;r("product",t)}}function ye(e,o){if(e&1&&(a(0,"section",2)(1,"div",3)(2,"h3"),h(3,"Categories"),s(),a(4,"ul"),u(5,Ce,4,5,"li",4),s()(),a(6,"div",5)(7,"h3"),h(8,"Products"),s(),a(9,"ul"),u(10,he,1,1,"products-product-item",6),s()()()),e&2){let t=p();l(5),r("ngForOf",t.categories),l(5),r("ngForOf",t.products)}}function ve(e,o){e&1&&(a(0,"div",10),d(1,"i",11),s())}var Ct=(()=>{let o=class o{constructor(n,i,c,m,I){this.productsService=n,this.categoriesService=i,this.route=c,this.cartService=m,this.messageService=I,this.selectedCategories={},this.filterBy={categories:[]},this.isParamsInited=!1,this.categoryId=""}ngOnInit(){this._getCategories()}_checkParams(){this.route.params.subscribe(n=>xt(this,null,function*(){if(n.categoryId){let i=yield St(this.categoriesService.getCategoryById(n.categoryId));this.selectedCategories[i.name.toLowerCase()]=n.categoryId,this.categoryId=n.categoryId,this.isParamsInited=!0,this.onChangeCategory()}else this.isParamsInited=!0,this._getProducts()}))}_getCategories(){this.categoriesService.getCategories().subscribe({next:n=>{this.categories=n,this.categories.forEach(i=>{this.selectedCategories[i.name.toLowerCase()]=!1}),this._checkParams()},error:n=>{console.error("Cannot get categories",n)}})}_getProducts(n){this.productsService.getProducts(n).subscribe({next:i=>{this.categoryId&&this.isParamsInited?this.products=i:!this.categoryId&&this.isParamsInited&&(this.products=i)},error:i=>{console.error("Cannot get products",i)}})}onChangeCategory(){for(let n in this.selectedCategories)if(this.selectedCategories[n]){let i=this.categories.findIndex(c=>c.name.toLowerCase()===n);this.selectedCategories[n]=this.categories[i].id}this.filterBy.categories=[];for(let n in this.selectedCategories)this.selectedCategories[n]&&this.filterBy.categories.push(this.selectedCategories[n]);this._getProducts(this.filterBy.categories)}onAddProduct(n){let i={product:n,quantity:1};this.cartService.addCartItem(i),this.messageService.add({severity:"success",summary:"Success",detail:"Product added to cart"})}};o.\u0275fac=function(i){return new(i||o)(x(pt),x(ae),x(et),x(lt),x(at))},o.\u0275cmp=C({type:o,selectors:[["products-products-list"]],hostAttrs:[1,"full","component-layout"],standalone:!0,features:[v],decls:4,vars:2,consts:[["class","products-list",4,"ngIf","ngIfElse"],["loader",""],[1,"products-list"],[1,"categories"],[4,"ngFor","ngForOf"],[1,"products"],[3,"product","onAddProduct",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","name","id","ngModelChange","change"],[3,"for"],[3,"product","onAddProduct"],[1,"loader"],[1,"pi","pi-spin","pi-spinner"]],template:function(i,c){if(i&1&&(u(0,ye,11,2,"section",0)(1,ve,2,0,"ng-template",null,1,N),d(3,"p-toast")),i&2){let m=P(2);r("ngIf",c.products&&c.categories&&c.isParamsInited)("ngIfElse",m)}},dependencies:[w,E,b,L,rt,zt,nt,ot,dt,ct,st]});let e=o;return e})();var ht=(()=>{class e extends q{pathId;ngOnInit(){this.pathId="url(#"+k()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=V(e)))(i||e)}})();static \u0275cmp=C({type:e,selectors:[["BanIcon"]],standalone:!0,features:[A,v],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7 0C5.61553 0 4.26215 0.410543 3.11101 1.17971C1.95987 1.94888 1.06266 3.04213 0.532846 4.32122C0.00303296 5.6003 -0.13559 7.00776 0.134506 8.36563C0.404603 9.7235 1.07129 10.9708 2.05026 11.9497C3.02922 12.9287 4.2765 13.5954 5.63437 13.8655C6.99224 14.1356 8.3997 13.997 9.67879 13.4672C10.9579 12.9373 12.0511 12.0401 12.8203 10.889C13.5895 9.73785 14 8.38447 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0ZM1.16667 7C1.16549 5.65478 1.63303 4.35118 2.48889 3.31333L10.6867 11.5111C9.83309 12.2112 8.79816 12.6544 7.70243 12.789C6.60669 12.9236 5.49527 12.744 4.49764 12.2713C3.50001 11.7986 2.65724 11.0521 2.06751 10.1188C1.47778 9.18558 1.16537 8.10397 1.16667 7ZM11.5111 10.6867L3.31334 2.48889C4.43144 1.57388 5.84966 1.10701 7.29265 1.1789C8.73565 1.2508 10.1004 1.85633 11.1221 2.87795C12.1437 3.89956 12.7492 5.26435 12.8211 6.70735C12.893 8.15034 12.4261 9.56856 11.5111 10.6867Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,i){n&1&&(R(),a(0,"svg",0)(1,"g"),d(2,"path",1),s(),a(3,"defs")(4,"clipPath",2),d(5,"rect",3),s()()()),n&2&&(D(i.getClassNames()),_("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l(),_("clip-path",i.pathId),l(3),r("id",i.pathId))},encapsulation:2})}return e})();var yt=(()=>{class e extends q{pathId;ngOnInit(){this.pathId="url(#"+k()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=V(e)))(i||e)}})();static \u0275cmp=C({type:e,selectors:[["StarIcon"]],standalone:!0,features:[A,v],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.9741 13.6721C10.8806 13.6719 10.7886 13.6483 10.7066 13.6033L7.00002 11.6545L3.29345 13.6033C3.19926 13.6539 3.09281 13.6771 2.98612 13.6703C2.87943 13.6636 2.77676 13.6271 2.6897 13.5651C2.60277 13.5014 2.53529 13.4147 2.4948 13.3148C2.45431 13.215 2.44241 13.1058 2.46042 12.9995L3.17881 8.87264L0.167699 5.95324C0.0922333 5.8777 0.039368 5.78258 0.0150625 5.67861C-0.00924303 5.57463 -0.00402231 5.46594 0.030136 5.36477C0.0621323 5.26323 0.122141 5.17278 0.203259 5.10383C0.284377 5.03488 0.383311 4.99023 0.488681 4.97501L4.63087 4.37126L6.48797 0.618832C6.54083 0.530159 6.61581 0.456732 6.70556 0.405741C6.79532 0.35475 6.89678 0.327942 7.00002 0.327942C7.10325 0.327942 7.20471 0.35475 7.29447 0.405741C7.38422 0.456732 7.4592 0.530159 7.51206 0.618832L9.36916 4.37126L13.5114 4.97501C13.6167 4.99023 13.7157 5.03488 13.7968 5.10383C13.8779 5.17278 13.9379 5.26323 13.9699 5.36477C14.0041 5.46594 14.0093 5.57463 13.985 5.67861C13.9607 5.78258 13.9078 5.8777 13.8323 5.95324L10.8212 8.87264L11.532 12.9995C11.55 13.1058 11.5381 13.215 11.4976 13.3148C11.4571 13.4147 11.3896 13.5014 11.3027 13.5651C11.2059 13.632 11.0917 13.6692 10.9741 13.6721ZM7.00002 10.4393C7.09251 10.4404 7.18371 10.4613 7.2675 10.5005L10.2098 12.029L9.65193 8.75036C9.6368 8.6584 9.64343 8.56418 9.6713 8.47526C9.69918 8.38633 9.74751 8.30518 9.81242 8.23832L12.1969 5.94559L8.90298 5.45648C8.81188 5.44198 8.72555 5.406 8.65113 5.35152C8.57671 5.29703 8.51633 5.2256 8.475 5.14314L7.00002 2.1626L5.52503 5.15078C5.4837 5.23324 5.42332 5.30467 5.3489 5.35916C5.27448 5.41365 5.18815 5.44963 5.09705 5.46412L1.80318 5.94559L4.18761 8.23832C4.25252 8.30518 4.30085 8.38633 4.32873 8.47526C4.3566 8.56418 4.36323 8.6584 4.3481 8.75036L3.7902 12.0519L6.73253 10.5234C6.81451 10.4762 6.9058 10.4475 7.00002 10.4393Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,i){n&1&&(R(),a(0,"svg",0)(1,"g"),d(2,"path",1),s(),a(3,"defs")(4,"clipPath",2),d(5,"rect",3),s()()()),n&2&&(D(i.getClassNames()),_("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l(),_("clip-path",i.pathId),l(3),r("id",i.pathId))},encapsulation:2})}return e})();var vt=(()=>{class e extends q{pathId;ngOnInit(){this.pathId="url(#"+k()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=V(e)))(i||e)}})();static \u0275cmp=C({type:e,selectors:[["StarFillIcon"]],standalone:!0,features:[A,v],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.9718 5.36453C13.9398 5.26298 13.8798 5.17252 13.7986 5.10356C13.7175 5.0346 13.6186 4.98994 13.5132 4.97472L9.37043 4.37088L7.51307 0.617955C7.46021 0.529271 7.38522 0.455834 7.29545 0.404836C7.20568 0.353838 7.1042 0.327026 7.00096 0.327026C6.89771 0.327026 6.79624 0.353838 6.70647 0.404836C6.6167 0.455834 6.54171 0.529271 6.48885 0.617955L4.63149 4.37088L0.488746 4.97472C0.383363 4.98994 0.284416 5.0346 0.203286 5.10356C0.122157 5.17252 0.0621407 5.26298 0.03014 5.36453C-0.00402286 5.46571 -0.00924428 5.57442 0.0150645 5.67841C0.0393733 5.7824 0.0922457 5.87753 0.167722 5.95308L3.17924 8.87287L2.4684 13.0003C2.45038 13.1066 2.46229 13.2158 2.50278 13.3157C2.54328 13.4156 2.61077 13.5022 2.6977 13.5659C2.78477 13.628 2.88746 13.6644 2.99416 13.6712C3.10087 13.678 3.20733 13.6547 3.30153 13.6042L7.00096 11.6551L10.708 13.6042C10.79 13.6491 10.882 13.6728 10.9755 13.673C11.0958 13.6716 11.2129 13.6343 11.3119 13.5659C11.3988 13.5022 11.4663 13.4156 11.5068 13.3157C11.5473 13.2158 11.5592 13.1066 11.5412 13.0003L10.8227 8.87287L13.8266 5.95308C13.9033 5.87835 13.9577 5.7836 13.9833 5.67957C14.009 5.57554 14.005 5.4664 13.9718 5.36453Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,i){n&1&&(R(),a(0,"svg",0)(1,"g"),d(2,"path",1),s(),a(3,"defs")(4,"clipPath",2),d(5,"rect",3),s()()()),n&2&&(D(i.getClassNames()),_("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l(),_("clip-path",i.pathId),l(3),r("id",i.pathId))},encapsulation:2})}return e})();function Ie(e,o){if(e&1&&d(0,"span",10),e&2){let t=p(3);r("ngClass",t.iconCancelClass)("ngStyle",t.iconCancelStyle)}}function xe(e,o){if(e&1&&d(0,"BanIcon",11),e&2){let t=p(3);r("styleClass","p-rating-icon p-rating-cancel")("ngStyle",t.iconCancelStyle),_("data-pc-section","cancelIcon")}}var Se=e=>({"p-focus":e});function we(e,o){if(e&1){let t=S();a(0,"div",5),y("click",function(i){g(t);let c=p(2);return f(c.onOptionClick(i,0))}),a(1,"span",6)(2,"input",7),y("focus",function(i){g(t);let c=p(2);return f(c.onInputFocus(i,0))})("blur",function(i){g(t);let c=p(2);return f(c.onInputBlur(i))})("change",function(i){g(t);let c=p(2);return f(c.onChange(i,0))}),s()(),u(3,Ie,1,2,"span",8)(4,xe,1,3,"BanIcon",9),s()}if(e&2){let t=p(2);r("ngClass",B(11,Se,t.focusedOptionIndex()===0&&t.isFocusVisibleItem)),_("data-pc-section","cancelItem"),l(),_("data-p-hidden-accessible",!0),l(),r("name",t.name)("checked",t.value===0)("disabled",t.disabled)("readonly",t.readonly)("autofocus",t.autofocus),_("aria-label",t.cancelAriaLabel()),l(),r("ngIf",t.iconCancelClass),l(),r("ngIf",!t.iconCancelClass)}}function be(e,o){if(e&1&&d(0,"span",16),e&2){let t=p(4);r("ngStyle",t.iconOffStyle)("ngClass",t.iconOffClass),_("data-pc-section","offIcon")}}function Fe(e,o){if(e&1&&d(0,"StarIcon",17),e&2){let t=p(4);r("ngStyle",t.iconOffStyle)("styleClass","p-rating-icon"),_("data-pc-section","offIcon")}}function Te(e,o){if(e&1&&($(0),u(1,be,1,3,"span",14)(2,Fe,1,3,"StarIcon",15),Q()),e&2){let t=p(3);l(),r("ngIf",t.iconOffClass),l(),r("ngIf",!t.iconOffClass)}}function Ee(e,o){if(e&1&&d(0,"span",19),e&2){let t=p(4);r("ngStyle",t.iconOnStyle)("ngClass",t.iconOnClass),_("data-pc-section","onIcon")}}function Me(e,o){if(e&1&&d(0,"StarFillIcon",17),e&2){let t=p(4);r("ngStyle",t.iconOnStyle)("styleClass","p-rating-icon p-rating-icon-active"),_("data-pc-section","onIcon")}}function Pe(e,o){if(e&1&&($(0),u(1,Ee,1,3,"span",18)(2,Me,1,3,"StarFillIcon",15),Q()),e&2){let t=p(3);l(),r("ngIf",t.iconOnClass),l(),r("ngIf",!t.iconOnClass)}}var Le=(e,o)=>({"p-rating-item-active":e,"p-focus":o});function ke(e,o){if(e&1){let t=S();a(0,"div",12),y("click",function(i){let m=g(t).$implicit,I=p(2);return f(I.onOptionClick(i,m+1))}),a(1,"span",6)(2,"input",7),y("focus",function(i){let m=g(t).$implicit,I=p(2);return f(I.onInputFocus(i,m+1))})("blur",function(i){g(t);let c=p(2);return f(c.onInputBlur(i))})("change",function(i){let m=g(t).$implicit,I=p(2);return f(I.onChange(i,m+1))}),s()(),u(3,Te,3,2,"ng-container",13)(4,Pe,3,2,"ng-container",13),s()}if(e&2){let t=o.$implicit,n=o.index,i=p(2);r("ngClass",gt(10,Le,t+1<=i.value,t+1===i.focusedOptionIndex()&&i.isFocusVisibleItem)),l(),_("data-p-hidden-accessible",!0),l(),r("name",i.name)("checked",i.value===0)("disabled",i.disabled)("readonly",i.readonly)("autofocus",i.autofocus),_("aria-label",i.starAriaLabel(t+1)),l(),r("ngIf",!i.value||n>=i.value),l(),r("ngIf",i.value&&n<i.value)}}function Oe(e,o){if(e&1&&($(0),u(1,we,5,13,"div",3)(2,ke,5,13,"ng-template",4),Q()),e&2){let t=p();l(),r("ngIf",t.cancel),l(),r("ngForOf",t.starsArray)}}function Re(e,o){e&1&&ut(0)}function Ve(e,o){if(e&1){let t=S();a(0,"span",22),y("click",function(i){g(t);let c=p(2);return f(c.onOptionClick(i,0))}),u(1,Re,1,0,"ng-container",23),s()}if(e&2){let t=p(2);r("ngStyle",t.iconCancelStyle),_("data-pc-section","cancelIcon"),l(),r("ngTemplateOutlet",t.cancelIconTemplate)}}function Ae(e,o){e&1&&ut(0)}function De(e,o){if(e&1){let t=S();a(0,"span",24),y("click",function(i){let m=g(t).$implicit,I=p(2);return f(I.onOptionClick(i,m+1))}),u(1,Ae,1,0,"ng-container",23),s()}if(e&2){let t=o.index,n=p(2);_("data-pc-section","onIcon"),l(),r("ngTemplateOutlet",n.getIconTemplate(t))}}function Be(e,o){if(e&1&&u(0,Ve,2,3,"span",20)(1,De,2,2,"span",21),e&2){let t=p();r("ngIf",t.cancel),l(),r("ngForOf",t.starsArray)}}var Ne=(e,o)=>({"p-readonly":e,"p-disabled":o}),qe={provide:Ht,useExisting:wt(()=>It),multi:!0},It=(()=>{class e{cd;config;disabled;readonly;stars=5;cancel=!0;iconOnClass;iconOnStyle;iconOffClass;iconOffStyle;iconCancelClass;iconCancelStyle;autofocus;onRate=new M;onCancel=new M;onFocus=new M;onBlur=new M;templates;onIconTemplate;offIconTemplate;cancelIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};starsArray;isFocusVisibleItem=!0;focusedOptionIndex=Mt(-1);name;constructor(t,n){this.cd=t,this.config=n}ngOnInit(){this.name=this.name||k(),this.starsArray=[];for(let t=0;t<this.stars;t++)this.starsArray[t]=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"onicon":this.onIconTemplate=t.template;break;case"officon":this.offIconTemplate=t.template;break;case"cancelicon":this.cancelIconTemplate=t.template;break}})}onOptionClick(t,n){if(!this.readonly&&!this.disabled){this.onOptionSelect(t,n),this.isFocusVisibleItem=!1;let i=ft.getFirstFocusableElement(t.currentTarget,"");i&&ft.focus(i)}}onOptionSelect(t,n){this.focusedOptionIndex.set(n),this.updateModel(t,n||null)}onChange(t,n){this.onOptionSelect(t,n),this.isFocusVisibleItem=!0}onInputBlur(t){this.focusedOptionIndex.set(-1),this.onBlur.emit(t)}onInputFocus(t,n){this.focusedOptionIndex.set(n),this.onFocus.emit(t)}updateModel(t,n){this.value=n,this.onModelChange(this.value),this.onModelTouched(),n?this.onRate.emit({originalEvent:t,value:n}):this.onCancel.emit()}cancelAriaLabel(){return this.config.translation.clear}starAriaLabel(t){return t===1?this.config.translation.aria.star:this.config.translation.aria.stars.replace(/{star}/g,t)}getIconTemplate(t){return!this.value||t>=this.value?this.offIconTemplate:this.onIconTemplate}writeValue(t){this.value=t,this.cd.detectChanges()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}static \u0275fac=function(n){return new(n||e)(x(Pt),x(ee))};static \u0275cmp=C({type:e,selectors:[["p-rating"]],contentQueries:function(n,i,c){if(n&1&&Rt(c,ie,4),n&2){let m;W(m=Z())&&(i.templates=m)}},hostAttrs:[1,"p-element"],inputs:{disabled:[O.HasDecoratorInputTransform,"disabled","disabled",H],readonly:[O.HasDecoratorInputTransform,"readonly","readonly",H],stars:[O.HasDecoratorInputTransform,"stars","stars",Dt],cancel:[O.HasDecoratorInputTransform,"cancel","cancel",H],iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle",autofocus:[O.HasDecoratorInputTransform,"autofocus","autofocus",H]},outputs:{onRate:"onRate",onCancel:"onCancel",onFocus:"onFocus",onBlur:"onBlur"},features:[At([qe]),Lt],decls:4,vars:8,consts:[[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["customTemplate",""],["class","p-rating-item p-rating-cancel-item",3,"ngClass","click",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-rating-item","p-rating-cancel-item",3,"ngClass","click"],[1,"p-hidden-accessible"],["type","radio","value","0","pAutoFocus","",3,"name","checked","disabled","readonly","autofocus","focus","blur","change"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle",4,"ngIf"],[3,"styleClass","ngStyle",4,"ngIf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle"],[3,"styleClass","ngStyle"],[1,"p-rating-item",3,"ngClass","click"],[4,"ngIf"],["class","p-rating-icon",3,"ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","styleClass",4,"ngIf"],[1,"p-rating-icon",3,"ngStyle","ngClass"],[3,"ngStyle","styleClass"],["class","p-rating-icon p-rating-icon-active",3,"ngStyle","ngClass",4,"ngIf"],[1,"p-rating-icon","p-rating-icon-active",3,"ngStyle","ngClass"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click",4,"ngIf"],["class","p-rating-icon",3,"click",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngStyle","click"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click"]],template:function(n,i){if(n&1&&(a(0,"div",0),u(1,Oe,3,2,"ng-container",1)(2,Be,2,2,"ng-template",null,2,N),s()),n&2){let c=P(3);r("ngClass",gt(5,Ne,i.readonly,i.disabled)),_("data-pc-name","rating")("data-pc-section","root"),l(),r("ngIf",!i.isCustomIcon)("ngIfElse",c)}},dependencies:()=>[X,E,b,Nt,Y,oe,vt,yt,ht],styles:[`@layer primeng{.p-rating{display:inline-flex;position:relative;align-items:center}.p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}}
`],encapsulation:2,changeDetection:0})}return e})(),ce=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Et({type:e});static \u0275inj=Ft({imports:[w,re,vt,yt,ht,ne]})}return e})();var Ge=["imagesContainer"];function He(e,o){if(e&1){let t=S();a(0,"button",10),y("click",function(){g(t),p();let i=P(7),c=p();return f(c.onClickArrowBtn("left",i))}),d(1,"i",11),s()}}function ze(e,o){if(e&1){let t=S();a(0,"button",12),y("click",function(){g(t),p();let i=P(7),c=p();return f(c.onClickArrowBtn("right",i))}),d(1,"i",13),s()}}var $e=e=>({active:e});function Qe(e,o){if(e&1){let t=S();a(0,"img",14),y("click",function(){let c=g(t).index,m=p(2);return f(m.onSelectImage(c))}),s()}if(e&2){let t=o.$implicit,n=p(2);r("ngClass",B(2,$e,n.activeImage===t))("src",t,G)}}function Ue(e,o){if(e&1&&(a(0,"div",1)(1,"div",2),d(2,"img",3),s(),a(3,"div",4),u(4,He,2,0,"button",5)(5,ze,2,0,"button",6),a(6,"div",7,8),u(8,Qe,1,4,"img",9),s()()()),e&2){let t=p();l(2),r("src",t.selectedImage,G),l(2),r("ngIf",t.isLeftArrowShown),l(),r("ngIf",t.isRightArrowShown),l(3),r("ngForOf",t.images)}}var le=(()=>{let o=class o{constructor(){this.selectedImage="",this.isLeftArrowShown=!1,this.isRightArrowShown=!0,this.imagesContainerScrollLeft=0,this.activeImage=""}ngOnInit(){this.images&&(this.selectedImage=this.images[0],this.activeImage=this.images?.[0])}ngAfterContentChecked(){this.elImages&&this.elImages.nativeElement.scrollWidth===this.elImages.nativeElement.offsetWidth&&(this.isRightArrowShown=!1)}onSelectImage(n){this.images&&(this.selectedImage=this.images[n],this.activeImage=this.images[n])}onClickArrowBtn(n,i){let c=i.offsetWidth,m=i.scrollWidth,I=m*.15;n==="left"?(i.scrollLeft-=I,this.imagesContainerScrollLeft-=I,this.imagesContainerScrollLeft===0&&(this.isRightArrowShown=!0,this.isLeftArrowShown=!1)):n==="right"&&(i.scrollLeft+=I,this.imagesContainerScrollLeft+=I,this.imagesContainerScrollLeft>=m-c&&(this.isRightArrowShown=!1),this.imagesContainerScrollLeft>0&&(this.isLeftArrowShown=!0))}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=C({type:o,selectors:[["ui-gallery"]],viewQuery:function(i,c){if(i&1&&Vt(Ge,5),i&2){let m;W(m=Z())&&(c.elImages=m.first)}},hostAttrs:[1,"host-gallery"],inputs:{images:"images"},standalone:!0,features:[v],decls:1,vars:1,consts:[["class","gallery",4,"ngIf"],[1,"gallery"],[1,"main-image"],["alt","main product",3,"src"],[1,"images-container"],["class","btn-left",3,"click",4,"ngIf"],["class","btn-right",3,"click",4,"ngIf"],[1,"images"],["imagesContainer",""],["alt","image",3,"ngClass","src","click",4,"ngFor","ngForOf"],[1,"btn-left",3,"click"],[1,"pi","pi-angle-left"],[1,"btn-right",3,"click"],[1,"pi","pi-angle-right"],["alt","image",3,"ngClass","src","click"]],template:function(i,c){i&1&&u(0,Ue,9,4,"div",0),i&2&&r("ngIf",c.images)},dependencies:[w,X,E,b]});let e=o;return e})();function We(e,o){e&1&&(a(0,"small"),h(1,"Quantity is required!"),s())}function Ze(e,o){e&1&&(a(0,"small"),h(1,"Minimum 1"),s())}function Je(e,o){e&1&&(a(0,"small"),h(1,"Maximum 99"),s())}function Ke(e,o){if(e&1){let t=S();a(0,"section",2)(1,"div",3)(2,"div",4),d(3,"ui-gallery",5),s(),a(4,"div",6)(5,"div",7)(6,"h2"),h(7),s(),a(8,"button",8),y("click",function(){g(t);let i=p();return f(i.goBack())}),d(9,"i",9),s()(),d(10,"div",10)(11,"p-rating",11),a(12,"h4",12),h(13),J(14,"currency"),s(),a(15,"form",13)(16,"div",14)(17,"label",15),h(18,"Quantity"),s(),d(19,"input",16),s(),u(20,We,2,0,"small",17)(21,Ze,2,0,"small",17)(22,Je,2,0,"small",17),s(),a(23,"div",18)(24,"button"),d(25,"i",19),h(26," Buy Now"),s(),a(27,"button",20),y("click",function(){g(t);let i=p();return f(i.onAddCartItem())}),d(28,"i",21),h(29," Add to Cart "),s()()()(),a(30,"div",22),d(31,"div",23),s()()}if(e&2){let t=p();l(3),r("images",t.product.images),l(4),T(t.product.name),l(3),r("innerHTML",t.product.description,mt),l(),r("ngModel",t.product.rating)("readonly",!0)("cancel",!1),l(2),T(K(14,12,t.product.price)),l(2),r("formGroup",t.productItemRF),l(5),r("ngIf",t.controls.quantity.hasError("required")),l(),r("ngIf",t.controls.quantity.hasError("min")),l(),r("ngIf",t.controls.quantity.hasError("max")),l(9),r("innerHTML",t.product.richDescription,mt)}}function Xe(e,o){e&1&&(a(0,"div",24),d(1,"i",25),s())}var pe=(()=>{let o=class o{constructor(n,i,c,m,I,de,me,ue){this.productsService=n,this.route=i,this.sanitizer=c,this.location=m,this.router=I,this.cartService=de,this.formBuilder=me,this.messageService=ue,this.productItemRF=this.formBuilder.group({quantity:[1,[z.required,z.max(100),z.min(1)]],product:[null,[z.required]]}),this.isSanitizerProccessing=!0}ngOnInit(){this._getParams()}goBack(){this.location.back()}onAddCartItem(){if(this.productItemRF.invalid)return;let n={product:this.productItemRF.value.product?.id,quantity:this.productItemRF.value.quantity};this.cartService.addCartItem(n),this.messageService.add({severity:"success",summary:"Success",detail:"Product added to cart"})}_sanitizer(){this.product.description=this.sanitizer.bypassSecurityTrustHtml(this.product.description),this.product.richDescription=this.sanitizer.bypassSecurityTrustHtml(this.product.richDescription),this.isSanitizerProccessing=!1}_getParams(){this.route.params.subscribe({next:n=>{n.productId&&this._getProductById(n.productId)},error:n=>{console.error("Cannot get params",n)}})}_getProductById(n){this.productsService.getProductById(n).subscribe({next:i=>{this.product=i,this.controls.product.patchValue(i),this._sanitizer()},error:i=>{console.error("Cannot get product",i),this.router.navigateByUrl("/")}})}get controls(){return this.productItemRF.controls}};o.\u0275fac=function(i){return new(i||o)(x(pt),x(et),x(jt),x(Bt),x(Gt),x(lt),x(Yt),x(at))},o.\u0275cmp=C({type:o,selectors:[["products-product-details"]],standalone:!0,features:[v],decls:4,vars:2,consts:[["class","product-details",4,"ngIf","ngIfElse"],["loader",""],[1,"product-details"],[1,"main-details"],[1,"gallery"],[3,"images"],[1,"content"],[1,"product-name-btn-back"],["title","Back",1,"btn-back",3,"click"],[1,"pi","pi-angle-right"],[1,"description",3,"innerHTML"],[3,"ngModel","readonly","cancel"],[1,"price"],[1,"quantity",3,"formGroup"],[1,"inner-container"],["for","quantity"],["formControlName","quantity","type","number","name","quantity","id","quantity","min","1","max","99"],[4,"ngIf"],[1,"buttons"],[1,"pi","pi-shopping-bag"],[3,"click"],[1,"pi","pi-shopping-cart"],[1,"other-content"],[1,"rich-description",3,"innerHTML"],[1,"loader"],[1,"pi","pi-spin","pi-spinner"]],template:function(i,c){if(i&1&&(u(0,Ke,32,14,"section",0)(1,Xe,2,0,"ng-template",null,1,N),d(3,"p-toast")),i&2){let m=P(2);r("ngIf",c.product&&!c.isSanitizerProccessing)("ngIfElse",m)}},dependencies:[w,b,tt,L,rt,Ut,$t,Wt,nt,Qt,Xt,Kt,ot,te,Zt,Jt,ce,It,le,ct,st]});let e=o;return e})();var mn=[{path:"",component:Ct,title:"Products | ngShop"},{path:":categoryId",component:Ct,title:"Products | ngShop"},{path:"details/:productId",component:pe,title:"Product Details | ngShop"}];var Ye=e=>({backgroundColor:e});function ti(e,o){if(e&1&&(a(0,"div",4),d(1,"i"),a(2,"p"),h(3),s()()),e&2){let t=o.$implicit;U("routerLink","products/",t.id,""),r("ngStyle",B(6,Ye,t.color)),l(),kt("pi pi-",t.icon,""),l(2),T(t.name)}}function ei(e,o){if(e&1&&(a(0,"section",1)(1,"h2"),h(2,"Categories"),s(),a(3,"div",2),u(4,ti,4,8,"div",3),s()()),e&2){let t=p();l(4),r("ngForOf",t.categories)}}var _n=(()=>{let o=class o{constructor(){}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=C({type:o,selectors:[["products-categories-banner"]],hostAttrs:[1,"component-layout","categories-banner-host"],inputs:{categories:"categories"},standalone:!0,features:[v],decls:1,vars:1,consts:[["class","categories-banner",4,"ngIf"],[1,"categories-banner"],[1,"categories-list"],["class","category",3,"ngStyle","routerLink",4,"ngFor","ngForOf"],[1,"category",3,"ngStyle","routerLink"]],template:function(i,c){i&1&&u(0,ei,5,1,"section",0),i&2&&r("ngIf",c.categories)},dependencies:[w,E,b,Y,L,it]});let e=o;return e})();var hn=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=C({type:o,selectors:[["ngshop-products-search"]],standalone:!0,features:[v],decls:4,vars:0,consts:[[1,"search-input"],["for","search"],[1,"pi","pi-search"],["type","text","name","search","id","search","placeholder","Search products"]],template:function(i,c){i&1&&(a(0,"div",0)(1,"label",1),d(2,"i",2),s(),d(3,"input",3),s())}});let e=o;return e})();function ii(e,o){if(e&1){let t=S();a(0,"products-product-item",4),y("onAddProduct",function(i){g(t);let c=p(2);return f(c.onAddProduct.emit(i))}),s()}if(e&2){let t=o.$implicit;r("product",t)}}function ni(e,o){if(e&1&&(a(0,"section",1)(1,"h2"),h(2,"Featured Products"),s(),a(3,"ul",2),u(4,ii,1,1,"products-product-item",3),s()()),e&2){let t=p();l(4),r("ngForOf",t.featuredProducts)}}var Fn=(()=>{let o=class o{constructor(){this.onAddProduct=new M}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=C({type:o,selectors:[["products-featured-products"]],hostAttrs:[1,"component-layout","featured-products-host"],inputs:{featuredProducts:"featuredProducts"},outputs:{onAddProduct:"onAddProduct"},standalone:!0,features:[v],decls:1,vars:1,consts:[["class","featured-products",4,"ngIf"],[1,"featured-products"],[1,"featured-products-list"],[3,"product","onAddProduct",4,"ngFor","ngForOf"],[3,"product","onAddProduct"]],template:function(i,c){i&1&&u(0,ni,5,1,"section",0),i&2&&r("ngIf",c.featuredProducts)},dependencies:[w,E,b,dt]});let e=o;return e})();export{ae as a,dt as b,mn as c,_n as d,hn as e,Fn as f};
