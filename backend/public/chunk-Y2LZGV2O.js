import{Bc as y,Fc as b,J as n,K as u,M as l,O as h,Q as p,R as f,ga as d,i as c,lb as v,na as m,ua as g,vb as C,xb as I,yb as $}from"./chunk-7VGRZGUI.js";var F="cart",_=(()=>{let i=class i{constructor(){this._cart$=new c(null),this.cart$=this._cart$.asObservable(),this.initCartLocalStorage()}initCartLocalStorage(){let t=this._getCart();t?this._saveCart(t):this._saveCart([])}addCartItem(t){let e=this._getCart();if(e)if(e.length){let s=e.findIndex(o=>o.product===t.product);if(s===-1)e.push(t),this._saveCart(e);else{let o=e[s];o.quantity=o.quantity+t.quantity,e.splice(s,1,o),this._saveCart(e)}}else e.push(t),this._saveCart(e)}editCartItem(t,e){let s=this._getCart();if(s&&s.length){let o=s.findIndex(x=>x.product===t);o!==-1&&(s[o].quantity=e,this._saveCart(s))}}deleteCartItem(t){let e=this._getCart();if(e&&e.length){let s=e.findIndex(o=>o.product===t);s!==-1&&(e.splice(s,1),this._saveCart(e))}}clearCart(){this._saveCart([])}get cartCount(){return this._cart$.value?this._cart$.value.length:null}_saveCart(t){localStorage.setItem(F,JSON.stringify(t)),this._cart$.next(t)}_getCart(){return JSON.parse(localStorage.getItem(F))}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();var w=(()=>{let i=class i{constructor(t){this.http=t,this.apiUrl=b.apiUrl}getProducts(t){let e=new I;return t&&(e=e.append("categories",t.join(","))),this.http.get(`${this.apiUrl}products`,{params:e})}getProductById(t){return this.http.get(`${this.apiUrl}products/${t}`)}addProduct(t){return this.http.post(`${this.apiUrl}products`,t)}editProduct(t){return this.http.put(`${this.apiUrl}products/${t.get("id")}`,t)}editProductGallery(t,e){return this.http.put(`${this.apiUrl}products/gallery-images/${e}`,t)}deleteProduct(t){return this.http.delete(`${this.apiUrl}products/${t}`)}getProductsCount(){return this.http.get(`${this.apiUrl}products/get/count`)}getFeaturedProducts(t){return this.http.get(`${this.apiUrl}products/get/featured/${t}`)}};i.\u0275fac=function(e){return new(e||i)(l($))},i.\u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();var J=(()=>{class r{host;constructor(a){this.host=a}autofocus=!1;focused=!1;ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autofocus&&setTimeout(()=>{let a=y.getFocusableElements(this.host.nativeElement);a.length===0&&this.host.nativeElement.focus(),a.length>0&&a[0].focus(),this.focused=!0})}static \u0275fac=function(t){return new(t||r)(m(d))};static \u0275dir=f({type:r,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[h.HasDecoratorInputTransform,"autofocus","autofocus",v]},features:[g]})}return r})(),L=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=p({type:r});static \u0275inj=u({imports:[C]})}return r})();export{_ as a,w as b,J as c,L as d};
