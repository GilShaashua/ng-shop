<div class="users-form-modal" *ngIf="isCmpInizialized; else loader">
    <div class="users-form-container">
        <div class="users-form-heading">
            <h1>{{ userId ? 'Edit' : 'Add' }} User</h1>
            <p>You can {{ userId ? 'edit' : 'add' }} users here</p>
        </div>

        <div class="btns-container">
            <button class="btn-create" (click)="onSubmitForm()">
                <i class="pi {{ userId ? 'pi-cloud-upload' : 'pi-plus' }}"></i
                ><span>{{ userId ? 'Edit' : 'Add' }}</span>
            </button>
            <button class="btn-cancel" routerLink="/users">
                <i class="pi pi-arrow-circle-left"></i><span>Cancel</span>
            </button>
        </div>

        <form [formGroup]="form">
            <div class="inputs-container">
                <div class="name-input">
                    <label for="name">Name</label>
                    <input
                        formControlName="name"
                        type="text"
                        name="name"
                        id="name"
                        [ngClass]="{ submitted: isSubmitted }"
                    />
                    <small
                        *ngIf="
                            controlsForm['name'].hasError('required') &&
                            isSubmitted
                        "
                        class="p-error"
                        >Name is requried!</small
                    >
                    <small
                        *ngIf="
                            controlsForm['name'].hasError('minlength') &&
                            isSubmitted
                        "
                        class="p-error"
                        >Minimum 3 characters!</small
                    >
                </div>
            </div>
        </form>
    </div>
</div>

<p-toast></p-toast>

<ng-template #loader>
    <div class="loader">
        <i class="pi pi-spin pi-spinner"></i>
    </div>
</ng-template>
