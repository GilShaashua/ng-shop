<header>
    <div class="logo" routerLink="/">
        <img src="./assets/logo.png" alt="logo" />
    </div>

    <ngshop-products-search></ngshop-products-search>

    <nav>
        <ul>
            <li
                routerLink="/"
                routerLinkActive="active"
                [routerLinkActiveOptions]="{ exact: true }"
            >
                Home
            </li>
            <li routerLink="/products" routerLinkActive="active">Products</li>
            <li routerLink="/contact" routerLinkActive="active">Contact</li>
        </ul>
    </nav>

    <div class="icons">
        <p *ngIf="loggedInUser">{{ loggedInUser.name }}</p>

        <i class="pi pi-user" (click)="isMenuShown = true">
            <ul *ngIf="isMenuShown" class="menu">
                <li
                    (click)="$event.stopPropagation(); isMenuShown = false"
                    *ngIf="!loggedInUser"
                    routerLink="/login"
                >
                    Login
                </li>
                <li *ngIf="loggedInUser" (click)="logout($event)">Logout</li>
            </ul>
        </i>

        <i class="pi pi-shopping-cart" (click)="isCartShown = true"
            ><span>{{ cartCount }}</span></i
        >

        <div
            class="cover"
            [ngClass]="{ open: isCartShown || isMenuShown }"
            (click)="isCartShown = false; isMenuShown = false"
        ></div>

        <orders-cart
            *ngIf="cart"
            [cart]="cart"
            [isCartShown]="isCartShown"
            [totalPrice]="totalPrice"
            (onCloseCart)="isCartShown = $event"
            (onCheckout)="navigateCheckoutPage()"
        ></orders-cart>
    </div>
</header>
