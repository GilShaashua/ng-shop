import{a as pt,b as dt}from"./chunk-OZXNTXJR.js";import{a as mt,b as H,c as ce,d as le}from"./chunk-GCRGX43S.js";import{$b as ee,Ac as ae,Cc as G,Da as B,Ea as At,Ec as Ct,Fa as s,Fb as Ut,Ga as c,Gb as zt,Ha as d,Hb as ot,Ia as Z,Ic as se,J as Mt,Ja as J,Jb as at,K as Pt,Ka as _t,Kb as st,L as Et,La as S,Ma as _,N as Lt,Na as p,Ob as L,P as O,Pb as Qt,Q as C,Qa as Bt,Qb as Wt,R as kt,Ra as K,Rb as ct,Sb as W,Ta as Dt,Tb as j,U as g,Ua as Nt,Ub as Zt,V as f,Va as X,Vb as q,W as R,Wa as Y,Wb as Jt,X as V,Xa as E,Xb as Kt,Ya as y,Yb as Xt,Za as T,Zb as Yt,_b as te,ab as jt,ac as ie,bb as x,bc as $,cc as ne,db as D,ea as ft,eb as ht,f as bt,fa as z,h as wt,ib as tt,jb as et,kb as N,la as Ot,m as Ft,mb as Q,na as l,nb as qt,oa as v,pa as Rt,pb as $t,qb as it,rb as M,sa as P,sb as w,tb as nt,tc as k,u as Tt,ua as A,ub as Gt,va as Vt,vb as rt,wb as b,wc as lt,xa as u,ya as h,yc as re,za as o,zb as Ht,zc as oe}from"./chunk-AWVI6DWZ.js";var gt=(()=>{let r=class r{constructor(){this.onAddProduct=new P}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=C({type:r,selectors:[["products-product-item"]],inputs:{product:"product"},outputs:{onAddProduct:"onAddProduct"},standalone:!0,features:[x],decls:11,vars:6,consts:[[1,"product-item"],["alt","product",3,"src","routerLink"],[1,"inner-container"],[1,"name"],[1,"price"],[1,"btn-add-cart",3,"click"],[1,"pi","pi-shopping-cart"]],template:function(i,a){i&1&&(s(0,"li",0),d(1,"img",1),s(2,"div",2)(3,"h4",3),y(4),c(),s(5,"h5",4),y(6),tt(7,"currency"),c(),s(8,"button",5),_("click",function(){return a.onAddProduct.emit(a.product.id)}),d(9,"i",6),y(10," Add to cart "),c()()()),i&2&&(l(),K("routerLink","/products/details/",a.product.id,""),o("src",a.product.image,z),l(3),T(a.product.name),l(2),T(et(7,4,a.product.price)))},dependencies:[b,rt,L,st]});let e=r;return e})();var pe=(()=>{let r=class r{constructor(n){this.http=n,this.apiUrl=se.API_URL}getCategories(){return this.http.get(`${this.apiUrl}categories`)}getCategoryById(n){return this.http.get(`${this.apiUrl}categories/${n}`)}addCategory(n){return this.http.post(`${this.apiUrl}categories`,n)}editCategory(n){return this.http.put(`${this.apiUrl}categories/${n.id}`,n)}deleteCategory(n){return this.http.delete(`${this.apiUrl}categories/${n}`)}};r.\u0275fac=function(i){return new(i||r)(Lt(Ht))},r.\u0275prov=Pt({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();function Ie(e,r){if(e&1){let t=S();s(0,"li")(1,"input",7),_("ngModelChange",function(i){let m=g(t).$implicit,I=p(2);return f(I.selectedCategories[m.name.toLowerCase()]=i)})("change",function(){g(t);let i=p(2);return f(i.onChangeCategory())}),c(),s(2,"label",8),y(3),c()()}if(e&2){let t=r.$implicit,n=p(2);l(),o("ngModel",n.selectedCategories[t.name.toLowerCase()])("name",t.name)("id",t.name),l(),Bt("for",t.name),l(),T(t.name)}}function xe(e,r){if(e&1){let t=S();s(0,"products-product-item",9),_("onAddProduct",function(i){g(t);let a=p(2);return f(a.onAddProduct(i))}),c()}if(e&2){let t=r.$implicit;o("product",t)}}function Se(e,r){if(e&1&&(s(0,"section",2)(1,"div",3)(2,"h3"),y(3,"Categories"),c(),s(4,"ul"),u(5,Ie,4,5,"li",4),c()(),s(6,"div",5)(7,"h3"),y(8,"Products"),c(),s(9,"ul"),u(10,xe,1,1,"products-product-item",6),c()()()),e&2){let t=p();l(5),o("ngForOf",t.categories),l(5),o("ngForOf",t.products)}}function be(e,r){e&1&&(s(0,"div",10),d(1,"i",11),c())}var yt=(()=>{let r=class r{constructor(n,i,a,m,I){this.productsService=n,this.categoriesService=i,this.route=a,this.cartService=m,this.messageService=I,this.selectedCategories={},this.isParamsInited=!1,this.categoryId=""}ngOnInit(){this._getFilterBy(),this._getCategories()}_getFilterBy(){this.filterBySubscription=this.productsService.filterBy$.subscribe({next:n=>{this.filterBy=n}})}_checkParams(){this.route.params.subscribe(n=>bt(this,null,function*(){if(n.categoryId){let i=yield Ft(this.categoriesService.getCategoryById(n.categoryId));this.selectedCategories[i.name.toLowerCase()]=n.categoryId,this.categoryId=n.categoryId,this.isParamsInited=!0,this.onChangeCategory()}else this.isParamsInited=!0,this._getProducts()}))}_getCategories(){this.categoriesService.getCategories().subscribe({next:n=>{this.categories=n,this.categories.forEach(i=>{this.selectedCategories[i.name.toLowerCase()]=!1}),this._checkParams()},error:n=>{console.error("Cannot get categories",n)}})}_getProducts(){this.productsService.getProducts(),this.productsService.products$.subscribe({next:n=>{this.products=n}})}onChangeCategory(){for(let n in this.selectedCategories)if(this.selectedCategories[n]){let i=this.categories.findIndex(a=>a.name.toLowerCase()===n);this.selectedCategories[n]=this.categories[i].id}this.filterBy.categories=[],this.productsService.setFilterBy(this.filterBy);for(let n in this.selectedCategories)this.selectedCategories[n]&&(this.filterBy.categories.push(this.selectedCategories[n]),this.productsService.setFilterBy(this.filterBy));this._getProducts()}onAddProduct(n){let i={product:n,quantity:1};this.cartService.addCartItem(i),this.messageService.add({severity:"success",summary:"Success",detail:"Product added to cart"})}ngOnDestroy(){this.filterBySubscription?.unsubscribe()}};r.\u0275fac=function(i){return new(i||r)(v(H),v(pe),v(ot),v(mt),v(lt))},r.\u0275cmp=C({type:r,selectors:[["products-products-list"]],hostAttrs:[1,"full","component-layout"],standalone:!0,features:[x],decls:4,vars:2,consts:[["class","products-list",4,"ngIf","ngIfElse"],["loader",""],[1,"products-list"],[1,"categories"],[4,"ngFor","ngForOf"],[1,"products"],[3,"product","onAddProduct",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","name","id","ngModelChange","change"],[3,"for"],[3,"product","onAddProduct"],[1,"loader"],[1,"pi","pi-spin","pi-spinner"]],template:function(i,a){if(i&1&&(u(0,Se,11,2,"section",0)(1,be,2,0,"ng-template",null,1,N),d(3,"p-toast")),i&2){let m=E(2);o("ngIf",a.products&&a.categories&&a.isParamsInited)("ngIfElse",m)}},dependencies:[b,M,w,L,$,Wt,j,q,gt,dt,pt]});let e=r;return e})();var vt=(()=>{class e extends G{pathId;ngOnInit(){this.pathId="url(#"+k()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=V(e)))(i||e)}})();static \u0275cmp=C({type:e,selectors:[["BanIcon"]],standalone:!0,features:[A,x],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7 0C5.61553 0 4.26215 0.410543 3.11101 1.17971C1.95987 1.94888 1.06266 3.04213 0.532846 4.32122C0.00303296 5.6003 -0.13559 7.00776 0.134506 8.36563C0.404603 9.7235 1.07129 10.9708 2.05026 11.9497C3.02922 12.9287 4.2765 13.5954 5.63437 13.8655C6.99224 14.1356 8.3997 13.997 9.67879 13.4672C10.9579 12.9373 12.0511 12.0401 12.8203 10.889C13.5895 9.73785 14 8.38447 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0ZM1.16667 7C1.16549 5.65478 1.63303 4.35118 2.48889 3.31333L10.6867 11.5111C9.83309 12.2112 8.79816 12.6544 7.70243 12.789C6.60669 12.9236 5.49527 12.744 4.49764 12.2713C3.50001 11.7986 2.65724 11.0521 2.06751 10.1188C1.47778 9.18558 1.16537 8.10397 1.16667 7ZM11.5111 10.6867L3.31334 2.48889C4.43144 1.57388 5.84966 1.10701 7.29265 1.1789C8.73565 1.2508 10.1004 1.85633 11.1221 2.87795C12.1437 3.89956 12.7492 5.26435 12.8211 6.70735C12.893 8.15034 12.4261 9.56856 11.5111 10.6867Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,i){n&1&&(R(),s(0,"svg",0)(1,"g"),d(2,"path",1),c(),s(3,"defs")(4,"clipPath",2),d(5,"rect",3),c()()()),n&2&&(B(i.getClassNames()),h("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l(),h("clip-path",i.pathId),l(3),o("id",i.pathId))},encapsulation:2})}return e})();var It=(()=>{class e extends G{pathId;ngOnInit(){this.pathId="url(#"+k()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=V(e)))(i||e)}})();static \u0275cmp=C({type:e,selectors:[["StarIcon"]],standalone:!0,features:[A,x],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.9741 13.6721C10.8806 13.6719 10.7886 13.6483 10.7066 13.6033L7.00002 11.6545L3.29345 13.6033C3.19926 13.6539 3.09281 13.6771 2.98612 13.6703C2.87943 13.6636 2.77676 13.6271 2.6897 13.5651C2.60277 13.5014 2.53529 13.4147 2.4948 13.3148C2.45431 13.215 2.44241 13.1058 2.46042 12.9995L3.17881 8.87264L0.167699 5.95324C0.0922333 5.8777 0.039368 5.78258 0.0150625 5.67861C-0.00924303 5.57463 -0.00402231 5.46594 0.030136 5.36477C0.0621323 5.26323 0.122141 5.17278 0.203259 5.10383C0.284377 5.03488 0.383311 4.99023 0.488681 4.97501L4.63087 4.37126L6.48797 0.618832C6.54083 0.530159 6.61581 0.456732 6.70556 0.405741C6.79532 0.35475 6.89678 0.327942 7.00002 0.327942C7.10325 0.327942 7.20471 0.35475 7.29447 0.405741C7.38422 0.456732 7.4592 0.530159 7.51206 0.618832L9.36916 4.37126L13.5114 4.97501C13.6167 4.99023 13.7157 5.03488 13.7968 5.10383C13.8779 5.17278 13.9379 5.26323 13.9699 5.36477C14.0041 5.46594 14.0093 5.57463 13.985 5.67861C13.9607 5.78258 13.9078 5.8777 13.8323 5.95324L10.8212 8.87264L11.532 12.9995C11.55 13.1058 11.5381 13.215 11.4976 13.3148C11.4571 13.4147 11.3896 13.5014 11.3027 13.5651C11.2059 13.632 11.0917 13.6692 10.9741 13.6721ZM7.00002 10.4393C7.09251 10.4404 7.18371 10.4613 7.2675 10.5005L10.2098 12.029L9.65193 8.75036C9.6368 8.6584 9.64343 8.56418 9.6713 8.47526C9.69918 8.38633 9.74751 8.30518 9.81242 8.23832L12.1969 5.94559L8.90298 5.45648C8.81188 5.44198 8.72555 5.406 8.65113 5.35152C8.57671 5.29703 8.51633 5.2256 8.475 5.14314L7.00002 2.1626L5.52503 5.15078C5.4837 5.23324 5.42332 5.30467 5.3489 5.35916C5.27448 5.41365 5.18815 5.44963 5.09705 5.46412L1.80318 5.94559L4.18761 8.23832C4.25252 8.30518 4.30085 8.38633 4.32873 8.47526C4.3566 8.56418 4.36323 8.6584 4.3481 8.75036L3.7902 12.0519L6.73253 10.5234C6.81451 10.4762 6.9058 10.4475 7.00002 10.4393Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,i){n&1&&(R(),s(0,"svg",0)(1,"g"),d(2,"path",1),c(),s(3,"defs")(4,"clipPath",2),d(5,"rect",3),c()()()),n&2&&(B(i.getClassNames()),h("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l(),h("clip-path",i.pathId),l(3),o("id",i.pathId))},encapsulation:2})}return e})();var xt=(()=>{class e extends G{pathId;ngOnInit(){this.pathId="url(#"+k()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=V(e)))(i||e)}})();static \u0275cmp=C({type:e,selectors:[["StarFillIcon"]],standalone:!0,features:[A,x],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.9718 5.36453C13.9398 5.26298 13.8798 5.17252 13.7986 5.10356C13.7175 5.0346 13.6186 4.98994 13.5132 4.97472L9.37043 4.37088L7.51307 0.617955C7.46021 0.529271 7.38522 0.455834 7.29545 0.404836C7.20568 0.353838 7.1042 0.327026 7.00096 0.327026C6.89771 0.327026 6.79624 0.353838 6.70647 0.404836C6.6167 0.455834 6.54171 0.529271 6.48885 0.617955L4.63149 4.37088L0.488746 4.97472C0.383363 4.98994 0.284416 5.0346 0.203286 5.10356C0.122157 5.17252 0.0621407 5.26298 0.03014 5.36453C-0.00402286 5.46571 -0.00924428 5.57442 0.0150645 5.67841C0.0393733 5.7824 0.0922457 5.87753 0.167722 5.95308L3.17924 8.87287L2.4684 13.0003C2.45038 13.1066 2.46229 13.2158 2.50278 13.3157C2.54328 13.4156 2.61077 13.5022 2.6977 13.5659C2.78477 13.628 2.88746 13.6644 2.99416 13.6712C3.10087 13.678 3.20733 13.6547 3.30153 13.6042L7.00096 11.6551L10.708 13.6042C10.79 13.6491 10.882 13.6728 10.9755 13.673C11.0958 13.6716 11.2129 13.6343 11.3119 13.5659C11.3988 13.5022 11.4663 13.4156 11.5068 13.3157C11.5473 13.2158 11.5592 13.1066 11.5412 13.0003L10.8227 8.87287L13.8266 5.95308C13.9033 5.87835 13.9577 5.7836 13.9833 5.67957C14.009 5.57554 14.005 5.4664 13.9718 5.36453Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,i){n&1&&(R(),s(0,"svg",0)(1,"g"),d(2,"path",1),c(),s(3,"defs")(4,"clipPath",2),d(5,"rect",3),c()()()),n&2&&(B(i.getClassNames()),h("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l(),h("clip-path",i.pathId),l(3),o("id",i.pathId))},encapsulation:2})}return e})();function we(e,r){if(e&1&&d(0,"span",10),e&2){let t=p(3);o("ngClass",t.iconCancelClass)("ngStyle",t.iconCancelStyle)}}function Fe(e,r){if(e&1&&d(0,"BanIcon",11),e&2){let t=p(3);o("styleClass","p-rating-icon p-rating-cancel")("ngStyle",t.iconCancelStyle),h("data-pc-section","cancelIcon")}}var Te=e=>({"p-focus":e});function Me(e,r){if(e&1){let t=S();s(0,"div",5),_("click",function(i){g(t);let a=p(2);return f(a.onOptionClick(i,0))}),s(1,"span",6)(2,"input",7),_("focus",function(i){g(t);let a=p(2);return f(a.onInputFocus(i,0))})("blur",function(i){g(t);let a=p(2);return f(a.onInputBlur(i))})("change",function(i){g(t);let a=p(2);return f(a.onChange(i,0))}),c()(),u(3,we,1,2,"span",8)(4,Fe,1,3,"BanIcon",9),c()}if(e&2){let t=p(2);o("ngClass",D(11,Te,t.focusedOptionIndex()===0&&t.isFocusVisibleItem)),h("data-pc-section","cancelItem"),l(),h("data-p-hidden-accessible",!0),l(),o("name",t.name)("checked",t.value===0)("disabled",t.disabled)("readonly",t.readonly)("autofocus",t.autofocus),h("aria-label",t.cancelAriaLabel()),l(),o("ngIf",t.iconCancelClass),l(),o("ngIf",!t.iconCancelClass)}}function Pe(e,r){if(e&1&&d(0,"span",16),e&2){let t=p(4);o("ngStyle",t.iconOffStyle)("ngClass",t.iconOffClass),h("data-pc-section","offIcon")}}function Ee(e,r){if(e&1&&d(0,"StarIcon",17),e&2){let t=p(4);o("ngStyle",t.iconOffStyle)("styleClass","p-rating-icon"),h("data-pc-section","offIcon")}}function Le(e,r){if(e&1&&(Z(0),u(1,Pe,1,3,"span",14)(2,Ee,1,3,"StarIcon",15),J()),e&2){let t=p(3);l(),o("ngIf",t.iconOffClass),l(),o("ngIf",!t.iconOffClass)}}function ke(e,r){if(e&1&&d(0,"span",19),e&2){let t=p(4);o("ngStyle",t.iconOnStyle)("ngClass",t.iconOnClass),h("data-pc-section","onIcon")}}function Oe(e,r){if(e&1&&d(0,"StarFillIcon",17),e&2){let t=p(4);o("ngStyle",t.iconOnStyle)("styleClass","p-rating-icon p-rating-icon-active"),h("data-pc-section","onIcon")}}function Re(e,r){if(e&1&&(Z(0),u(1,ke,1,3,"span",18)(2,Oe,1,3,"StarFillIcon",15),J()),e&2){let t=p(3);l(),o("ngIf",t.iconOnClass),l(),o("ngIf",!t.iconOnClass)}}var Ve=(e,r)=>({"p-rating-item-active":e,"p-focus":r});function Ae(e,r){if(e&1){let t=S();s(0,"div",12),_("click",function(i){let m=g(t).$implicit,I=p(2);return f(I.onOptionClick(i,m+1))}),s(1,"span",6)(2,"input",7),_("focus",function(i){let m=g(t).$implicit,I=p(2);return f(I.onInputFocus(i,m+1))})("blur",function(i){g(t);let a=p(2);return f(a.onInputBlur(i))})("change",function(i){let m=g(t).$implicit,I=p(2);return f(I.onChange(i,m+1))}),c()(),u(3,Le,3,2,"ng-container",13)(4,Re,3,2,"ng-container",13),c()}if(e&2){let t=r.$implicit,n=r.index,i=p(2);o("ngClass",ht(10,Ve,t+1<=i.value,t+1===i.focusedOptionIndex()&&i.isFocusVisibleItem)),l(),h("data-p-hidden-accessible",!0),l(),o("name",i.name)("checked",i.value===0)("disabled",i.disabled)("readonly",i.readonly)("autofocus",i.autofocus),h("aria-label",i.starAriaLabel(t+1)),l(),o("ngIf",!i.value||n>=i.value),l(),o("ngIf",i.value&&n<i.value)}}function Be(e,r){if(e&1&&(Z(0),u(1,Me,5,13,"div",3)(2,Ae,5,13,"ng-template",4),J()),e&2){let t=p();l(),o("ngIf",t.cancel),l(),o("ngForOf",t.starsArray)}}function De(e,r){e&1&&_t(0)}function Ne(e,r){if(e&1){let t=S();s(0,"span",22),_("click",function(i){g(t);let a=p(2);return f(a.onOptionClick(i,0))}),u(1,De,1,0,"ng-container",23),c()}if(e&2){let t=p(2);o("ngStyle",t.iconCancelStyle),h("data-pc-section","cancelIcon"),l(),o("ngTemplateOutlet",t.cancelIconTemplate)}}function je(e,r){e&1&&_t(0)}function qe(e,r){if(e&1){let t=S();s(0,"span",24),_("click",function(i){let m=g(t).$implicit,I=p(2);return f(I.onOptionClick(i,m+1))}),u(1,je,1,0,"ng-container",23),c()}if(e&2){let t=r.index,n=p(2);h("data-pc-section","onIcon"),l(),o("ngTemplateOutlet",n.getIconTemplate(t))}}function $e(e,r){if(e&1&&u(0,Ne,2,3,"span",20)(1,qe,2,2,"span",21),e&2){let t=p();o("ngIf",t.cancel),l(),o("ngForOf",t.starsArray)}}var Ge=(e,r)=>({"p-readonly":e,"p-disabled":r}),He={provide:Qt,useExisting:Mt(()=>St),multi:!0},St=(()=>{class e{cd;config;disabled;readonly;stars=5;cancel=!0;iconOnClass;iconOnStyle;iconOffClass;iconOffStyle;iconCancelClass;iconCancelStyle;autofocus;onRate=new P;onCancel=new P;onFocus=new P;onBlur=new P;templates;onIconTemplate;offIconTemplate;cancelIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};starsArray;isFocusVisibleItem=!0;focusedOptionIndex=Ot(-1);name;constructor(t,n){this.cd=t,this.config=n}ngOnInit(){this.name=this.name||k(),this.starsArray=[];for(let t=0;t<this.stars;t++)this.starsArray[t]=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"onicon":this.onIconTemplate=t.template;break;case"officon":this.offIconTemplate=t.template;break;case"cancelicon":this.cancelIconTemplate=t.template;break}})}onOptionClick(t,n){if(!this.readonly&&!this.disabled){this.onOptionSelect(t,n),this.isFocusVisibleItem=!1;let i=Ct.getFirstFocusableElement(t.currentTarget,"");i&&Ct.focus(i)}}onOptionSelect(t,n){this.focusedOptionIndex.set(n),this.updateModel(t,n||null)}onChange(t,n){this.onOptionSelect(t,n),this.isFocusVisibleItem=!0}onInputBlur(t){this.focusedOptionIndex.set(-1),this.onBlur.emit(t)}onInputFocus(t,n){this.focusedOptionIndex.set(n),this.onFocus.emit(t)}updateModel(t,n){this.value=n,this.onModelChange(this.value),this.onModelTouched(),n?this.onRate.emit({originalEvent:t,value:n}):this.onCancel.emit()}cancelAriaLabel(){return this.config.translation.clear}starAriaLabel(t){return t===1?this.config.translation.aria.star:this.config.translation.aria.stars.replace(/{star}/g,t)}getIconTemplate(t){return!this.value||t>=this.value?this.offIconTemplate:this.onIconTemplate}writeValue(t){this.value=t,this.cd.detectChanges()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}static \u0275fac=function(n){return new(n||e)(v(Rt),v(re))};static \u0275cmp=C({type:e,selectors:[["p-rating"]],contentQueries:function(n,i,a){if(n&1&&Dt(a,oe,4),n&2){let m;X(m=Y())&&(i.templates=m)}},hostAttrs:[1,"p-element"],inputs:{disabled:[O.HasDecoratorInputTransform,"disabled","disabled",Q],readonly:[O.HasDecoratorInputTransform,"readonly","readonly",Q],stars:[O.HasDecoratorInputTransform,"stars","stars",qt],cancel:[O.HasDecoratorInputTransform,"cancel","cancel",Q],iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle",autofocus:[O.HasDecoratorInputTransform,"autofocus","autofocus",Q]},outputs:{onRate:"onRate",onCancel:"onCancel",onFocus:"onFocus",onBlur:"onBlur"},features:[jt([He]),Vt],decls:4,vars:8,consts:[[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["customTemplate",""],["class","p-rating-item p-rating-cancel-item",3,"ngClass","click",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-rating-item","p-rating-cancel-item",3,"ngClass","click"],[1,"p-hidden-accessible"],["type","radio","value","0","pAutoFocus","",3,"name","checked","disabled","readonly","autofocus","focus","blur","change"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle",4,"ngIf"],[3,"styleClass","ngStyle",4,"ngIf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle"],[3,"styleClass","ngStyle"],[1,"p-rating-item",3,"ngClass","click"],[4,"ngIf"],["class","p-rating-icon",3,"ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","styleClass",4,"ngIf"],[1,"p-rating-icon",3,"ngStyle","ngClass"],[3,"ngStyle","styleClass"],["class","p-rating-icon p-rating-icon-active",3,"ngStyle","ngClass",4,"ngIf"],[1,"p-rating-icon","p-rating-icon-active",3,"ngStyle","ngClass"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click",4,"ngIf"],["class","p-rating-icon",3,"click",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngStyle","click"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click"]],template:function(n,i){if(n&1&&(s(0,"div",0),u(1,Be,3,2,"ng-container",1)(2,$e,2,2,"ng-template",null,2,N),c()),n&2){let a=E(3);o("ngClass",ht(5,Ge,i.readonly,i.disabled)),h("data-pc-name","rating")("data-pc-section","root"),l(),o("ngIf",!i.isCustomIcon)("ngIfElse",a)}},dependencies:()=>[it,M,w,Gt,nt,ce,xt,It,vt],styles:[`@layer primeng{.p-rating{display:inline-flex;position:relative;align-items:center}.p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}}
`],encapsulation:2,changeDetection:0})}return e})(),ge=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=kt({type:e});static \u0275inj=Et({imports:[b,le,xt,It,vt,ae]})}return e})();var ze=["imagesContainer"];function Qe(e,r){if(e&1){let t=S();s(0,"button",10),_("click",function(){g(t),p();let i=E(7),a=p();return f(a.onClickArrowBtn("left",i))}),d(1,"i",11),c()}}function We(e,r){if(e&1){let t=S();s(0,"button",12),_("click",function(){g(t),p();let i=E(7),a=p();return f(a.onClickArrowBtn("right",i))}),d(1,"i",13),c()}}var Ze=e=>({active:e});function Je(e,r){if(e&1){let t=S();s(0,"img",14),_("click",function(){let a=g(t).index,m=p(2);return f(m.onSelectImage(a))}),c()}if(e&2){let t=r.$implicit,n=p(2);o("ngClass",D(2,Ze,n.activeImage===t))("src",t,z)}}function Ke(e,r){if(e&1&&(s(0,"div",1)(1,"div",2),d(2,"img",3),c(),s(3,"div",4),u(4,Qe,2,0,"button",5)(5,We,2,0,"button",6),s(6,"div",7,8),u(8,Je,1,4,"img",9),c()()()),e&2){let t=p();l(2),o("src",t.selectedImage,z),l(2),o("ngIf",t.isLeftArrowShown),l(),o("ngIf",t.isRightArrowShown),l(3),o("ngForOf",t.images)}}var fe=(()=>{let r=class r{constructor(){this.selectedImage="",this.isLeftArrowShown=!1,this.isRightArrowShown=!0,this.imagesContainerScrollLeft=0,this.activeImage=""}ngOnInit(){this.images&&(this.selectedImage=this.images[0],this.activeImage=this.images?.[0])}ngAfterContentChecked(){this.elImages&&this.elImages.nativeElement.scrollWidth===this.elImages.nativeElement.offsetWidth&&(this.isRightArrowShown=!1)}onSelectImage(n){this.images&&(this.selectedImage=this.images[n],this.activeImage=this.images[n])}onClickArrowBtn(n,i){let a=i.offsetWidth,m=i.scrollWidth,I=m*.15;n==="left"?(i.scrollLeft-=I,this.imagesContainerScrollLeft-=I,this.imagesContainerScrollLeft===0&&(this.isRightArrowShown=!0,this.isLeftArrowShown=!1)):n==="right"&&(i.scrollLeft+=I,this.imagesContainerScrollLeft+=I,this.imagesContainerScrollLeft>=m-a&&(this.isRightArrowShown=!1),this.imagesContainerScrollLeft>0&&(this.isLeftArrowShown=!0))}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=C({type:r,selectors:[["ui-gallery"]],viewQuery:function(i,a){if(i&1&&Nt(ze,5),i&2){let m;X(m=Y())&&(a.elImages=m.first)}},hostAttrs:[1,"host-gallery"],inputs:{images:"images"},standalone:!0,features:[x],decls:1,vars:1,consts:[["class","gallery",4,"ngIf"],[1,"gallery"],[1,"main-image"],["alt","main product",3,"src"],[1,"images-container"],["class","btn-left",3,"click",4,"ngIf"],["class","btn-right",3,"click",4,"ngIf"],[1,"images"],["imagesContainer",""],["alt","image",3,"ngClass","src","click",4,"ngFor","ngForOf"],[1,"btn-left",3,"click"],[1,"pi","pi-angle-left"],[1,"btn-right",3,"click"],[1,"pi","pi-angle-right"],["alt","image",3,"ngClass","src","click"]],template:function(i,a){i&1&&u(0,Ke,9,4,"div",0),i&2&&o("ngIf",a.images)},dependencies:[b,it,M,w]});let e=r;return e})();function Xe(e,r){e&1&&(s(0,"small"),y(1,"Quantity is required!"),c())}function Ye(e,r){e&1&&(s(0,"small"),y(1,"Minimum 1"),c())}function ti(e,r){e&1&&(s(0,"small"),y(1,"Maximum 99"),c())}function ei(e,r){if(e&1){let t=S();s(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"button",6),_("click",function(){g(t);let i=p();return f(i.goBack())}),d(5,"i",7),c()(),d(6,"ui-gallery",8),c(),s(7,"div",9)(8,"div",10)(9,"h2"),y(10),c(),s(11,"button",6),_("click",function(){g(t);let i=p();return f(i.goBack())}),d(12,"i",7),c()(),d(13,"div",11)(14,"p-rating",12),s(15,"h4",13),y(16),tt(17,"currency"),c(),s(18,"form",14)(19,"div",15)(20,"label",16),y(21,"Quantity"),c(),d(22,"input",17),c(),u(23,Xe,2,0,"small",18)(24,Ye,2,0,"small",18)(25,ti,2,0,"small",18),c(),s(26,"div",19)(27,"button"),d(28,"i",20),y(29," Buy Now"),c(),s(30,"button",21),_("click",function(){g(t);let i=p();return f(i.onAddCartItem())}),d(31,"i",22),y(32," Add to Cart "),c()()()(),s(33,"div",23),d(34,"div",24),c()()}if(e&2){let t=p();l(6),o("images",t.product.images),l(4),T(t.product.name),l(3),o("innerHTML",t.product.description,ft),l(),o("ngModel",t.product.rating)("readonly",!0)("cancel",!1),l(2),T(et(17,12,t.product.price)),l(2),o("formGroup",t.productItemRF),l(5),o("ngIf",t.controls.quantity.hasError("required")),l(),o("ngIf",t.controls.quantity.hasError("min")),l(),o("ngIf",t.controls.quantity.hasError("max")),l(9),o("innerHTML",t.product.richDescription,ft)}}function ii(e,r){e&1&&(s(0,"div",25),d(1,"i",26),c())}var _e=(()=>{let r=class r{constructor(n,i,a,m,I,he,Ce,ye){this.productsService=n,this.route=i,this.sanitizer=a,this.location=m,this.router=I,this.cartService=he,this.formBuilder=Ce,this.messageService=ye,this.productItemRF=this.formBuilder.group({quantity:[1,[W.required,W.max(100),W.min(1)]],product:[null,[W.required]]}),this.isSanitizerProccessing=!0}ngOnInit(){this._getParams()}goBack(){this.location.back()}onAddCartItem(){if(this.productItemRF.invalid)return;let n={product:this.productItemRF.value.product?.id,quantity:this.productItemRF.value.quantity};this.cartService.addCartItem(n),this.messageService.add({severity:"success",summary:"Success",detail:"Product added to cart"})}_sanitizer(){this.product.description=this.sanitizer.bypassSecurityTrustHtml(this.product.description),this.product.richDescription=this.sanitizer.bypassSecurityTrustHtml(this.product.richDescription),this.isSanitizerProccessing=!1}_getParams(){this.route.params.subscribe({next:n=>{n.productId&&this._getProductById(n.productId)},error:n=>{console.error("Cannot get params",n)}})}_getProductById(n){this.productsService.getProductById(n).subscribe({next:i=>{this.product=i,this.controls.product.patchValue(i),this._sanitizer()},error:i=>{console.error("Cannot get product",i),this.router.navigateByUrl("/")}})}get controls(){return this.productItemRF.controls}};r.\u0275fac=function(i){return new(i||r)(v(H),v(ot),v(Ut),v($t),v(at),v(mt),v(ie),v(lt))},r.\u0275cmp=C({type:r,selectors:[["products-product-details"]],standalone:!0,features:[x],decls:4,vars:2,consts:[["class","product-details",4,"ngIf","ngIfElse"],["loader",""],[1,"product-details"],[1,"main-details"],[1,"gallery"],[1,"btn-back"],["title","Back",1,"btn-back",3,"click"],[1,"pi","pi-angle-right"],[3,"images"],[1,"content"],[1,"product-name-btn-back"],[1,"description",3,"innerHTML"],[3,"ngModel","readonly","cancel"],[1,"price"],[1,"quantity",3,"formGroup"],[1,"inner-container"],["for","quantity"],["formControlName","quantity","type","number","name","quantity","id","quantity","min","1","max","99"],[4,"ngIf"],[1,"buttons"],[1,"pi","pi-shopping-bag"],[3,"click"],[1,"pi","pi-shopping-cart"],[1,"other-content"],[1,"rich-description",3,"innerHTML"],[1,"loader"],[1,"pi","pi-spin","pi-spinner"]],template:function(i,a){if(i&1&&(u(0,ei,35,14,"section",0)(1,ii,2,0,"ng-template",null,1,N),d(3,"p-toast")),i&2){let m=E(2);o("ngIf",a.product&&!a.isSanitizerProccessing)("ngIfElse",m)}},dependencies:[b,w,rt,L,$,Jt,ct,Kt,j,Zt,ee,te,q,ne,Xt,Yt,ge,St,fe,dt,pt]});let e=r;return e})();var hn=[{path:"",component:yt,title:"Products | ngShop"},{path:":categoryId",component:yt,title:"Products | ngShop"},{path:"details/:productId",component:_e,title:"Product Details | ngShop"}];var ni=e=>({backgroundColor:e});function ri(e,r){if(e&1&&(s(0,"div",4),d(1,"i"),s(2,"p"),y(3),c()()),e&2){let t=r.$implicit;K("routerLink","products/",t.id,""),o("ngStyle",D(6,ni,t.color)),l(),At("pi pi-",t.icon,""),l(2),T(t.name)}}function oi(e,r){if(e&1&&(s(0,"section",1)(1,"h2"),y(2,"Categories"),c(),s(3,"div",2),u(4,ri,4,8,"div",3),c()()),e&2){let t=p();l(4),o("ngForOf",t.categories)}}var In=(()=>{let r=class r{constructor(){}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=C({type:r,selectors:[["products-categories-banner"]],hostAttrs:[1,"component-layout","categories-banner-host"],inputs:{categories:"categories"},standalone:!0,features:[x],decls:1,vars:1,consts:[["class","categories-banner",4,"ngIf"],[1,"categories-banner"],[1,"categories-list"],["class","category",3,"ngStyle","routerLink",4,"ngFor","ngForOf"],[1,"category",3,"ngStyle","routerLink"]],template:function(i,a){i&1&&u(0,oi,5,1,"section",0),i&2&&o("ngIf",a.categories)},dependencies:[b,M,w,nt,L,st]});let e=r;return e})();var Mn=(()=>{let r=class r{constructor(n,i){this.router=n,this.productsService=i,this.routePath="",this.searchTerms=new wt}ngOnInit(){this.routerUrlSubscription=this.router.events.subscribe(n=>{n instanceof zt&&(this.routePath=this.router.url)}),this._getFilterBy(),this.searchTermsSubscription=this.searchTerms.pipe(Tt(500)).subscribe(()=>{this.productsService.setFilterBy(this.filterBy),this.productsService.getProducts()})}_getFilterBy(){this.filterBySubscription=this.productsService.filterBy$.subscribe({next:n=>{this.filterBy=n}})}onInputProducts(){this.routePath!=="/products"&&this.router.navigate(["/products"]),this.searchTerms.next(this.filterBy.name)}ngOnDestroy(){this.routerUrlSubscription?.unsubscribe(),this.filterBySubscription?.unsubscribe(),this.searchTermsSubscription?.unsubscribe()}};r.\u0275fac=function(i){return new(i||r)(v(at),v(H))},r.\u0275cmp=C({type:r,selectors:[["ngshop-products-search"]],standalone:!0,features:[x],decls:4,vars:1,consts:[[1,"search-input"],["for","search"],[1,"pi","pi-search"],["type","text","name","search","id","search","placeholder","Search products",3,"ngModel","ngModelChange","input"]],template:function(i,a){i&1&&(s(0,"div",0)(1,"label",1),d(2,"i",2),c(),s(3,"input",3),_("ngModelChange",function(I){return a.filterBy.name=I})("input",function(){return a.onInputProducts()}),c()()),i&2&&(l(3),o("ngModel",a.filterBy.name))},dependencies:[b,$,ct,j,q]});let e=r;return e})();function ai(e,r){if(e&1){let t=S();s(0,"products-product-item",4),_("onAddProduct",function(i){g(t);let a=p(2);return f(a.onAddProduct.emit(i))}),c()}if(e&2){let t=r.$implicit;o("product",t)}}function si(e,r){if(e&1&&(s(0,"section",1)(1,"h2"),y(2,"Featured Products"),c(),s(3,"ul",2),u(4,ai,1,1,"products-product-item",3),c()()),e&2){let t=p();l(4),o("ngForOf",t.featuredProducts)}}var An=(()=>{let r=class r{constructor(){this.onAddProduct=new P}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=C({type:r,selectors:[["products-featured-products"]],hostAttrs:[1,"component-layout","featured-products-host"],inputs:{featuredProducts:"featuredProducts"},outputs:{onAddProduct:"onAddProduct"},standalone:!0,features:[x],decls:1,vars:1,consts:[["class","featured-products",4,"ngIf"],[1,"featured-products"],[1,"featured-products-list"],[3,"product","onAddProduct",4,"ngFor","ngForOf"],[3,"product","onAddProduct"]],template:function(i,a){i&1&&u(0,si,5,1,"section",0),i&2&&o("ngIf",a.featuredProducts)},dependencies:[b,M,w,gt]});let e=r;return e})();export{pe as a,gt as b,hn as c,In as d,Mn as e,An as f};
